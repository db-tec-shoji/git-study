# git-study
## 1. Gitのインストール
手始めにGitをインストールしましょう。

MacやLinuxの場合は（バージョンはちょっと古いですが）デフォルトで入っているので、バージョンを気にしないのであれば、何も気にせず始められます。

Windowsの場合は（10以降ならキメラみたいなUbuntuが入ってますが）、バイナリをダウンロードしてインストールする必要があります。めんどくさいですね。

[Git公式](https://git-scm.com/)

ダウンロードしてきたファイルを展開し、あとはボタンをポチポチしていけばOKです。

## 2. 既存のプロジェクトをGitリポジトリにする
今回の勉強会では扱いませんが、手元にあるプロジェクトをGitリポジトリ化することもできます。リモートリポジトリは必要ないので、個人で開発するときもお手軽ですね。

試しにやってみましょう。

先程インストールしたGitにGitBashというものが付属しているので、そちらを立ち上げてください。

```
$ cd ~/
$ pwd # /c/Users/your_username と表示されるはずです
$ mkdir test_project
$ cd test_project
$ touch testfile
$ git init
```

コマンドは`git init`だけです。これで、手元のファイルがバージョン管理できるようになりました。恐ろしいくらい簡単ですね。

作成したファイルをステージに載せるには下記を実行します。

```
$ git add testfile
$ git commit
```

エディタが開くのでコミットメッセージを書きましょう。

## 3. Gitリポジトリを持ってくる
すでに開発が進行しているプロジェクトに参画する場合はGitリポジトリを取ってくる必要があります。

今回は今見ていただいているリポジトリを持ってきましょう。

```
$ cd ~/
$ git clone https://github.com/db-tec-shoji/git-study.git
```

これで準備完了です。

## 4. 基本的なフロー - 概要
Gitリポジトリ上で開発を行う際の基本的なフローを紹介します。

ややこしいのですが、抑えておいたほうがのちのち役立つので、いきなりブランチを用いた開発フローを見ていきましょう。

[Git Flow](https://danielkummer.github.io/git-flow-cheatsheet/index.ja_JP.html)

上に上げたリンク先はGit flowという古くからあるブランチの運用方針です。

ただ、ここまで複雑になると、余計にややこしくなるため、普段はブランチの粒度を下記の感じにすると幸せになれる気がします。

```
master
  ├ develop
  │   └ feature/task_name
  └ hotfix/task_name
```

- master # 大元のブランチ。公開済みのもののみここにのっかる
    - develop # 開発中のブランチ。ステージング環境に公開されていると幸せになれる。すべての機能開発はここをもとにブランチを切る（`feature/hogehoge`）
      - feature/task_name # 機能開発用のブランチ。一機能ごとにこのブランチを切って、そのブランチ上で作業を行う。開発が終われば`develop`にマージする。※もしくは、リモートに`push`してレビューしてもらう。
    - hotfix/task_name # 緊急で対応が必要なバグ等の改修作業を行う。このブランチのみ直接`master`から切ってOK。対応が終われば、`master`及び`develop`にマージする。

次の項からは実際にコマンドを触りながら見ていきます。

## 5. 基本的なフロー - 実戦
今回のプロジェクトではすでに`develop`ブランチが存在するので、持ってきましょう。

```
$ cd ~/git-study
$ git checkout -b develop origin/develop
```

`git checkout`は、ブランチを切り替えるコマンドになります。`-b`オプションは、ブランチの切り替えと同時に、ブランチを作成することができます。

ローカルのリポジトリには、まだ`develop`ブランチは存在しないため、上記コマンドで、

1. ローカルに`develop`ブランチを作成
1. そのブランチは`origin/develop`というリモートのブランチを元にする

という操作を行っています。
